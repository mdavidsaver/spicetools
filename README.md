Spice Simulation Tools
======================

This package contains sevaral programs which work with the NGSpice circut
simulation.
spicebench and spicerunner define and execute simulations.
spice2hdf operate on files produced with the ngspice "write" command (both ascii and binary formats).
They may work with other *spice variants.
And spiceviewer will plot simulation results.

All require python (>=2.7, <3.0) and the h5py module.
SpiceViewer and SpiceBench also requires PyQt4.

SpiceBench
----------

An interactive tool for defineing spice simulation "projects".
Each project names a netlist or gschem file as input and
a list of analyses which should be performed on it.
Running the project will do the simulation and update
and running SpiceViewer plots with the new data.

SpiceViewer
-----------

An interactive plot GUI which reads the HDF5 files generated by the spice2hdf utility,
as well as spice data files directly.

spicerunner
-----------

A CLI utility which executes a project file and stores
the results in a single HDF5 file.

spice2hdf
---------

This CLI utility is called with two arguments
(an input file and an output file).
The input is vector data from ngspice.
The output file will be crated if it doesn't exist.
If it does exist, then any existing data is overwritten.

The output file name may carry a suffix ":/some/path"
to add data to a (sub)group in the file.
This allows several sets of vectors to be stored in the
same file.

    $ ngspice some.net
    -> set filetype=binary
    -> dc vin 0 5 0.1
    -> write data1.raw
    -> ac vin dec 20 1k 1meg
    -> write data2.raw
    -> exit
    $ spice2hdf data1.raw data.h5:/dc
    $ spice2hdf data2.raw data.h5:/ac

The HDF5 group specified will have a dataset named 'data' created.
Further, some headers from the input file are added as attributes
to the group.
This includes signal labels (attribute name 'columns').

An example of plotting with Matplotlib

    from matplotlib.pylab import *
    from h5py import File
    
    F = File('data.h5')
    data = F['dc/data']
    labels = F['dc'].attrs['columns']
    assert len(lebels)==data.shape[1], "always true"
    
    figure()
    hold(True)
    for n in range(1,data.shape[1]):
        plot(data[:,0], data[:,n], label=labels[n])
    show()

Copyright
---------

Copyright &copy; 2014 Michael Davidsaver &lt;mdavidsaver@gmail.com&gt;

License is GPL3+, see file LICENSE for details
